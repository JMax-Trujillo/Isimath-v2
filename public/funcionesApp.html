<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISIMath - Herramientas</title>
    <link rel="stylesheet" href="/styles/app/manager.css">

    <link rel="stylesheet" href="/scripts/functions/limites.css">
    <link rel="stylesheet" href="/scripts/functions/derivadas.css">
    <link rel="stylesheet" href="/scripts/functions/integralesD.css">
    <link rel="stylesheet" href="/scripts/functions/integralesI.css">

    <!-- TODO: Librerias de Js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.11.0/math.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.26.0/plotly.min.js"></script>
    <script src="https://unpkg.com/mathlive" defer></script>
</head>
<body>


    <div class="app__back app__hidden">
        <svg id="app__back" class="app__return" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"></path></svg>
    </div>


        <!-- Contenido Principal -->
        <main class="app__main-content" id="app__main-content">
            
            <!-- Tarjetas de Cálculo -->
            <div class="app__cards-container" id="app__calculo-cards">
                <div class="app__card" data-target="limites" data-name="Límites">
                    <svg class="app__card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12h16M4 12l6-6m-6 6l6 6"/><path d="M21 5h-6"/><path d="M21 19h-6"/><path d="m15 5 6 14"/></svg>
                    <h3 class="app__card-title">Límites</h3>
                    <p class="app__card-description">Calcula el límite de una función cuando la variable tiende a un número.</p>
                    <button class="app__card-button">Explorar</button>
                </div>
                <div class="app__card" data-target="derivadas" data-name="Derivadas">
                    <svg class="app__card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18V5.2C9 4 10.1 3 11.3 3s2.4.9 2.7 2.1L15 10"/><path d="M12 18h.01"/><path d="M6 18h.01"/><path d="M18 18h.01"/></svg>
                    <h3 class="app__card-title">Derivadas</h3>
                    <p class="app__card-description">Encuentra la razón de cambio instantánea de una función.</p>
                    <button class="app__card-button">Explorar</button>
                </div>
                <div class="app__card" data-target="integrales-definidas" data-name="Integrales Definidas">
                    <svg class="app__card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 3l-6 6v6l6 6"/><path d="M18 21h-7"/><path d="M18 3h-7"/><path d="M15 3v18"/></svg>
                    <h3 class="app__card-title">Integrales Definidas</h3>
                    <p class="app__card-description">Calcula el área bajo la curva entre dos puntos específicos.</p>
                    <button class="app__card-button">Explorar</button>
                </div>
                <div class="app__card" data-target="integrales-indefinidas" data-name="Integrales Indefinidas">
                    <svg class="app__card-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 3l-6 6v6l6 6"/><path d="M18 3v18"/></svg>
                    <h3 class="app__card-title">Integrales Indefinidas</h3>
                    <p class="app__card-description">Encuentra la antiderivada o primitiva de una función.</p>
                    <button class="app__card-button">Explorar</button>
                </div>
            </div>

            <!-- SVG Rotatorio para las secciones -->
            <div class="app__rotating-svg-container app__hidden" id="app__rotating-svg-container">
                <svg class="app__rotating-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="app-gradient-section" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:var(--app-primary-light); stop-opacity:1" />
                            <stop offset="100%" style="stop-color:var(--app-secondary-light); stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <circle cx="50" cy="50" r="45" fill="none" stroke="url(#app-gradient-section)" stroke-width="4" stroke-dasharray="282.74" stroke-dashoffset="70"/>
                    <ellipse cx="50" cy="50" rx="45" ry="20" fill="none" stroke="url(#app-gradient-section)" stroke-width="2" transform="rotate(45 50 50)"/>
                    <ellipse cx="50" cy="50" rx="45" ry="20" fill="none" stroke="url(#app-gradient-section)" stroke-width="2" transform="rotate(-45 50 50)"/>
                    <circle cx="50" cy="50" r="5" fill="url(#app-gradient-section)"/>
                </svg>
            </div>
            
<!-- ?Contenedores de Contenido Específico -->
            <div id="app__content-sections">

<!-- ! CALCULO -->
<!-- TODO: Limites -->
                <div id="app__limites-container" class="app__content-section app__hidden app_limites">
                    <!-- Sección para la recolección de datos -->
                    <div class="limites__input-section">
                        <h3>Calcular Límite</h3>
                        <div class="limites__form-group">
                            <label for="limites__function-input">Función f(x):</label>
                            <input type="text" id="limites__function-input" class="limites__input-text" placeholder="Ej: x^2 - 4 / (x - 2) o sin(x) / x">
                            <small class="limites__error-message" id="limites__function-error"></small>
                        </div>
                        <div class="limites__form-group">
                            <label for="limites__limit-point-input">Cuando x tiende a:</label>
                            <input type="text" id="limites__limit-point-input" class="limites__input-text" placeholder="Ej: 2 o 0">
                            <small class="limites__error-message" id="limites__limit-point-error"></small>
                        </div>
                        <button id="limites__solve-limit-btn" class="limites__button">Resolver Límite</button>
                    </div>

                    <!-- Sección para la respuesta y la gráfica -->
                    <div class="limites__result-section">
                        <h3>Resultado y Gráfica</h3>
                        <div id="limites__limit-result" class="limites__result-display">
                            El resultado del límite aparecerá aquí.
                        </div>
                        <canvas id="limites__function-graph" class="limites__graph-canvas"></canvas>
                    </div>
                </div>
                
<!-- TODO: Derivadas -->
                <div id="app__derivadas-container" class="app__content-section app__hidden">
                    <!-- Sección para la recolección de datos -->
                    <div class="derivadas__input-section">
                        <h3>Calcular Derivada</h3>
                        <div class="derivadas__form-group">
                            <label for="derivadas__function-input">Función f(x):</label>
                            <input type="text" id="derivadas__function-input" class="derivadas__input-text" placeholder="Ej: x^2 o sin(x)">
                            <small class="derivadas__error-message" id="derivadas__function-error"></small>
                        </div>
                        <div class="derivadas__form-group">
                            <label for="derivadas__point-input">Punto x:</label>
                            <input type="text" id="derivadas__point-input" class="derivadas__input-text" placeholder="Ej: 2 o 0">
                            <small class="derivadas__error-message" id="derivadas__point-error"></small>
                        </div>
                        <button id="derivadas__solve-btn" class="derivadas__button">Resolver Derivada</button>
                    </div>

                    <!-- Sección para la respuesta y la gráfica -->
                    <div class="derivadas__result-section">
                        <h3>Resultado y Gráfica</h3>
                        <div id="derivadas__result" class="derivadas__result-display">
                            El resultado de la derivada aparecerá aquí.
                        </div>
                        <canvas id="derivadas__function-graph" class="derivadas__graph-canvas"></canvas>
                    </div>
                </div>

<!-- TODO: Integrales Definidas -->
                <div id="app__integrales-definidas-container" class="app__content-section app__hidden">
                    <!-- Sección para la recolección de datos -->
                    <div class="integralesD__input-section">
                        <h3>Calcular Integral Definida</h3>
                        <div class="integralesD__form-group">
                            <label for="integralesD__function-input">Función f(x):</label>
                            <input type="text" id="integralesD__function-input" class="integralesD__input-text" placeholder="Ej: x^2 o sin(x)">
                            <small class="integralesD__error-message" id="integralesD__function-error"></small>
                        </div>
                        <div class="integralesD__form-group">
                            <label for="integralesD__lower-limit-input">Límite Inferior (a):</label>
                            <input type="text" id="integralesD__lower-limit-input" class="integralesD__input-text" placeholder="Ej: 0">
                            <small class="integralesD__error-message" id="integralesD__lower-limit-error"></small>
                        </div>
                        <div class="integralesD__form-group">
                            <label for="integralesD__upper-limit-input">Límite Superior (b):</label>
                            <input type="text" id="integralesD__upper-limit-input" class="integralesD__input-text" placeholder="Ej: 1">
                            <small class="integralesD__error-message" id="integralesD__upper-limit-error"></small>
                        </div>
                        <div class="integralesD__form-group">
                            <label for="integralesD__subintervals-input">Número de Subintervalos (n - debe ser par):</label>
                            <input type="number" id="integralesD__subintervals-input" class="integralesD__input-text" placeholder="Ej: 4">
                            <small class="integralesD__error-message" id="integralesD__subintervals-error"></small>
                        </div>
                        <button id="integralesD__solve-btn" class="integralesD__button">Resolver Integral</button>
                    </div>

                    <!-- Sección para la respuesta y la gráfica -->
                    <div class="integralesD__result-section">
                        <h3>Resultado y Gráfica</h3>
                        <div id="integralesD__result" class="integralesD__result-display">
                            El resultado de la integral aparecerá aquí.
                        </div>
                        <canvas id="integralesD__function-graph" class="integralesD__graph-canvas"></canvas>
                    </div>
                </div>

<!-- TODO: Integrales Indefinidas -->
                <div id="app__integrales-indefinidas-container" class="app__content-section app__hidden">
                        <!-- Sección de inputs -->
                        <div class="integralesI__input-section">
                            <h3>Calcular Integral Indefinida</h3>
                            <div class="integralesI__form-group">
                                <label for="integralesI__function-input">Función f(x):</label>
                                <div class="integralesI__math-input">
                                    <math-field id="integralesI__function-input" virtual-keyboard-mode="manual">x^2</math-field>
                                </div>
                                <div id="integralesI__function-error" class="integralesI__error-message hidden"></div>
                            </div>
                            <button id="integralesI__solve-btn" class="integralesI__button">Resolver Integral</button>
                        </div>

                        <!-- Sección de outputs -->
                        <div class="integralesI__output-section">
                            <h3>Resultado y Visualización</h3>
                            
                            <!-- Resultado -->
                            <div id="integralesI__result" class="integralesI__result-display hidden">
                                <h4>Resultado:</h4>
                                <p>La integral indefinida de la función es:</p>
                                <div id="integralesI__result-math-field" style="font-size: 1.2rem; margin: 1rem 0;"></div>
                                <p class="integralesI__result-note">
                                    Nota: Recuerda añadir la constante de integración "C".
                                </p>
                            </div>

                            <!-- Pasos -->
                            <div id="integralesI__steps-container" class="integralesI__steps-container hidden">
                                <h4>Pasos de resolución:</h4>
                                <button id="integralesI__toggle-steps-btn" class="integralesI__button">
                                    Mostrar pasos detallados
                                </button>
                                <div id="integralesI__steps-content" class="integralesI__steps-content hidden">
                                    <div id="integralesI__steps-list"></div>
                                </div>
                            </div>

                            <!-- Gráfica -->
                            <div id="integralesI__graph-container" class="integralesI__graph-container hidden">
                                <div id="integralesI__plot" style="width: 100%; height: 100%;"></div>
                            </div>
                            
                            <!-- Leyenda de la gráfica -->
                            <div id="integralesI__graph-legend" class="integralesI__graph-legend hidden">
                                <span class="integralesI__legend-item integralesI__legend-original">━━━ f(x) (función original)</span>
                                <span class="integralesI__legend-item integralesI__legend-integral">━━━ ∫f(x)dx (integral)</span>
                            </div>
                        </div>
                </div>
            </div>

        </main>

    
    <script src="/public/app.js"></script>

    <script src="/scripts/functions/limites.js"></script>
    <script src="/scripts/functions/derivadas.js"></script>
    <script src="/scripts/functions/integralesD.js"></script>
    <script src="/scripts/functions/integralesI.js"></script>

</body>
</html>